function cov_1h1hb1r54f(){var path="D:\\za\\backup\\portfolio-main\\CS308 (Software Engineering)\\unit-tests\\test-login.js";var hash="5c931c7b5fdbaa560c363763daaac122a25ccd8a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\za\\backup\\portfolio-main\\CS308 (Software Engineering)\\unit-tests\\test-login.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:37}},"1":{start:{line:2,column:14},end:{line:2,column:30}},"2":{start:{line:3,column:14},end:{line:3,column:30}},"3":{start:{line:5,column:0},end:{line:120,column:3}},"4":{start:{line:6,column:4},end:{line:59,column:7}},"5":{start:{line:8,column:8},end:{line:18,column:11}},"6":{start:{line:9,column:23},end:{line:15,column:13}},"7":{start:{line:16,column:21},end:{line:16,column:83}},"8":{start:{line:17,column:12},end:{line:17,column:50}},"9":{start:{line:20,column:8},end:{line:30,column:11}},"10":{start:{line:21,column:23},end:{line:27,column:13}},"11":{start:{line:28,column:21},end:{line:28,column:83}},"12":{start:{line:29,column:12},end:{line:29,column:50}},"13":{start:{line:32,column:8},end:{line:39,column:11}},"14":{start:{line:33,column:23},end:{line:36,column:13}},"15":{start:{line:37,column:21},end:{line:37,column:87}},"16":{start:{line:38,column:12},end:{line:38,column:50}},"17":{start:{line:41,column:8},end:{line:48,column:11}},"18":{start:{line:42,column:23},end:{line:45,column:13}},"19":{start:{line:46,column:21},end:{line:46,column:87}},"20":{start:{line:47,column:12},end:{line:47,column:50}},"21":{start:{line:50,column:8},end:{line:57,column:11}},"22":{start:{line:51,column:23},end:{line:54,column:13}},"23":{start:{line:55,column:21},end:{line:55,column:87}},"24":{start:{line:56,column:12},end:{line:56,column:50}},"25":{start:{line:61,column:4},end:{line:90,column:7}},"26":{start:{line:63,column:8},end:{line:70,column:11}},"27":{start:{line:64,column:23},end:{line:67,column:13}},"28":{start:{line:68,column:21},end:{line:68,column:79}},"29":{start:{line:69,column:12},end:{line:69,column:50}},"30":{start:{line:72,column:8},end:{line:79,column:11}},"31":{start:{line:73,column:23},end:{line:76,column:13}},"32":{start:{line:77,column:21},end:{line:77,column:79}},"33":{start:{line:78,column:12},end:{line:78,column:50}},"34":{start:{line:81,column:8},end:{line:88,column:11}},"35":{start:{line:82,column:23},end:{line:85,column:13}},"36":{start:{line:86,column:21},end:{line:86,column:79}},"37":{start:{line:87,column:12},end:{line:87,column:50}},"38":{start:{line:92,column:4},end:{line:119,column:7}},"39":{start:{line:93,column:8},end:{line:99,column:11}},"40":{start:{line:94,column:23},end:{line:96,column:13}},"41":{start:{line:97,column:21},end:{line:97,column:89}},"42":{start:{line:98,column:12},end:{line:98,column:50}},"43":{start:{line:101,column:8},end:{line:107,column:11}},"44":{start:{line:102,column:23},end:{line:104,column:13}},"45":{start:{line:105,column:21},end:{line:105,column:89}},"46":{start:{line:106,column:12},end:{line:106,column:50}},"47":{start:{line:109,column:8},end:{line:116,column:11}},"48":{start:{line:110,column:23},end:{line:113,column:13}},"49":{start:{line:114,column:21},end:{line:114,column:92}},"50":{start:{line:115,column:12},end:{line:115,column:50}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:28},end:{line:5,column:29}},loc:{start:{line:5,column:33},end:{line:120,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:25},end:{line:6,column:26}},loc:{start:{line:6,column:30},end:{line:59,column:5}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:8,column:41},end:{line:8,column:42}},loc:{start:{line:8,column:53},end:{line:18,column:9}},line:8},"3":{name:"(anonymous_3)",decl:{start:{line:20,column:70},end:{line:20,column:71}},loc:{start:{line:20,column:82},end:{line:30,column:9}},line:20},"4":{name:"(anonymous_4)",decl:{start:{line:32,column:72},end:{line:32,column:73}},loc:{start:{line:32,column:84},end:{line:39,column:9}},line:32},"5":{name:"(anonymous_5)",decl:{start:{line:41,column:78},end:{line:41,column:79}},loc:{start:{line:41,column:90},end:{line:48,column:9}},line:41},"6":{name:"(anonymous_6)",decl:{start:{line:50,column:60},end:{line:50,column:61}},loc:{start:{line:50,column:72},end:{line:57,column:9}},line:50},"7":{name:"(anonymous_7)",decl:{start:{line:61,column:22},end:{line:61,column:23}},loc:{start:{line:61,column:27},end:{line:90,column:5}},line:61},"8":{name:"(anonymous_8)",decl:{start:{line:63,column:27},end:{line:63,column:28}},loc:{start:{line:63,column:39},end:{line:70,column:9}},line:63},"9":{name:"(anonymous_9)",decl:{start:{line:72,column:66},end:{line:72,column:67}},loc:{start:{line:72,column:78},end:{line:79,column:9}},line:72},"10":{name:"(anonymous_10)",decl:{start:{line:81,column:60},end:{line:81,column:61}},loc:{start:{line:81,column:72},end:{line:88,column:9}},line:81},"11":{name:"(anonymous_11)",decl:{start:{line:92,column:32},end:{line:92,column:33}},loc:{start:{line:92,column:37},end:{line:119,column:5}},line:92},"12":{name:"(anonymous_12)",decl:{start:{line:93,column:49},end:{line:93,column:50}},loc:{start:{line:93,column:61},end:{line:99,column:9}},line:93},"13":{name:"(anonymous_13)",decl:{start:{line:101,column:67},end:{line:101,column:68}},loc:{start:{line:101,column:79},end:{line:107,column:9}},line:101},"14":{name:"(anonymous_14)",decl:{start:{line:109,column:49},end:{line:109,column:50}},loc:{start:{line:109,column:61},end:{line:116,column:9}},line:109}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5c931c7b5fdbaa560c363763daaac122a25ccd8a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1h1hb1r54f=function(){return actualCoverage;};}return actualCoverage;}cov_1h1hb1r54f();const expect=(cov_1h1hb1r54f().s[0]++,require("chai").expect);const mocha=(cov_1h1hb1r54f().s[1]++,require("mocha"));const axios=(cov_1h1hb1r54f().s[2]++,require("axios"));cov_1h1hb1r54f().s[3]++;context('Login & Register',()=>{cov_1h1hb1r54f().f[0]++;cov_1h1hb1r54f().s[4]++;describe('Register',()=>{cov_1h1hb1r54f().f[1]++;cov_1h1hb1r54f().s[5]++;it('should register a new user',async()=>{cov_1h1hb1r54f().f[2]++;let info=(cov_1h1hb1r54f().s[6]++,{custName:"UnitTest",taxID:15,custMail:"unittest123@unit.com",custAddress:"Test Address",password:"testtestAb++"});let r=(cov_1h1hb1r54f().s[7]++,await axios.post("https://gate.c2a.store/user/register",info));cov_1h1hb1r54f().s[8]++;expect(r.data.result).to.be.equals(1);});cov_1h1hb1r54f().s[9]++;it('should not register a user because e-mail already exist',async()=>{cov_1h1hb1r54f().f[3]++;let info=(cov_1h1hb1r54f().s[10]++,{custName:"UnitTest",taxID:15,custMail:"unittestunit@unit.com",custAddress:"Test Address",password:"testtestAb++"});let r=(cov_1h1hb1r54f().s[11]++,await axios.post("https://gate.c2a.store/user/register",info));cov_1h1hb1r54f().s[12]++;expect(r.data.result).to.be.equals(4);});cov_1h1hb1r54f().s[13]++;it('should verify the user with the correct verification code',async()=>{cov_1h1hb1r54f().f[4]++;let info=(cov_1h1hb1r54f().s[14]++,{custMail:"unittestunit@unit.com",verificationCode:"0cf607da6860726adf14fb5152b5d38f"});let r=(cov_1h1hb1r54f().s[15]++,await axios.post("https://gate.c2a.store/user/verification",info));cov_1h1hb1r54f().s[16]++;expect(r.data.result).to.be.equals(5);});cov_1h1hb1r54f().s[17]++;it('should not verify because verification code is expired or wrong',async()=>{cov_1h1hb1r54f().f[5]++;let info=(cov_1h1hb1r54f().s[18]++,{custMail:"unittestunit@unit.com",verificationCode:"123123123"});let r=(cov_1h1hb1r54f().s[19]++,await axios.post("https://gate.c2a.store/user/verification",info));cov_1h1hb1r54f().s[20]++;expect(r.data.result).to.be.equals(7);});cov_1h1hb1r54f().s[21]++;it('should not verify because user does not exist',async()=>{cov_1h1hb1r54f().f[6]++;let info=(cov_1h1hb1r54f().s[22]++,{custMail:"test@test.comsss",verificationCode:"123123123"});let r=(cov_1h1hb1r54f().s[23]++,await axios.post("https://gate.c2a.store/user/verification",info));cov_1h1hb1r54f().s[24]++;expect(r.data.result).to.be.equals(8);});});cov_1h1hb1r54f().s[25]++;describe('Login',()=>{cov_1h1hb1r54f().f[7]++;cov_1h1hb1r54f().s[26]++;it('should login',async()=>{cov_1h1hb1r54f().f[8]++;let info=(cov_1h1hb1r54f().s[27]++,{custMail:"muratbilgehanertan@gmail.com",password:"123123Ab+"});let r=(cov_1h1hb1r54f().s[28]++,await axios.post("https://gate.c2a.store/user/auth",info));cov_1h1hb1r54f().s[29]++;expect(r.data.result).to.be.equals(1);});cov_1h1hb1r54f().s[30]++;it('should not login because email or password is wrong',async()=>{cov_1h1hb1r54f().f[9]++;let info=(cov_1h1hb1r54f().s[31]++,{custMail:"mbilgehan@sabanciuniv.edu",password:"1test"});let r=(cov_1h1hb1r54f().s[32]++,await axios.post("https://gate.c2a.store/user/auth",info));cov_1h1hb1r54f().s[33]++;expect(r.data.result).to.be.equals(0);});cov_1h1hb1r54f().s[34]++;it('should not login because user is not verified',async()=>{cov_1h1hb1r54f().f[10]++;let info=(cov_1h1hb1r54f().s[35]++,{custMail:"unittesttunit@unit.com",password:"testtestAb++"});let r=(cov_1h1hb1r54f().s[36]++,await axios.post("https://gate.c2a.store/user/auth",info));cov_1h1hb1r54f().s[37]++;expect(r.data.result).to.be.equals(2);});});cov_1h1hb1r54f().s[38]++;describe('Forgot Password',()=>{cov_1h1hb1r54f().f[11]++;cov_1h1hb1r54f().s[39]++;it('should send forgot password e-mail',async()=>{cov_1h1hb1r54f().f[12]++;let info=(cov_1h1hb1r54f().s[40]++,{custMail:"muratbilgehanertan@gmail.com"});let r=(cov_1h1hb1r54f().s[41]++,await axios.post("https://gate.c2a.store/user/forgotPassword",info));cov_1h1hb1r54f().s[42]++;expect(r.data.result).to.be.equals(1);});cov_1h1hb1r54f().s[43]++;it('should not send anything because user does not exist',async()=>{cov_1h1hb1r54f().f[13]++;let info=(cov_1h1hb1r54f().s[44]++,{custMail:"testdoesnotexist@test.com"});let r=(cov_1h1hb1r54f().s[45]++,await axios.post("https://gate.c2a.store/user/forgotPassword",info));cov_1h1hb1r54f().s[46]++;expect(r.data.result).to.be.equals(2);});cov_1h1hb1r54f().s[47]++;it('should verify forgot password code',async()=>{cov_1h1hb1r54f().f[14]++;let info=(cov_1h1hb1r54f().s[48]++,{custMail:"muratbilgehanertan@gmail.com",verifyCode:"69d8233c5d1b81ed24ef7d4c945c3e131c176081f90672606f305de1c898145a79512335530c3a28f34991496fbfba66e8869f18aa3eeb89f83062126751fc10"});let r=(cov_1h1hb1r54f().s[49]++,await axios.post("https://gate.c2a.store/user/forgotpass-verify",info));cov_1h1hb1r54f().s[50]++;expect(r.data.result).to.be.equals(1);});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QtbG9naW4uanMiXSwibmFtZXMiOlsiZXhwZWN0IiwicmVxdWlyZSIsIm1vY2hhIiwiYXhpb3MiLCJjb250ZXh0IiwiZGVzY3JpYmUiLCJpdCIsImluZm8iLCJjdXN0TmFtZSIsInRheElEIiwiY3VzdE1haWwiLCJjdXN0QWRkcmVzcyIsInBhc3N3b3JkIiwiciIsInBvc3QiLCJkYXRhIiwicmVzdWx0IiwidG8iLCJiZSIsImVxdWFscyIsInZlcmlmaWNhdGlvbkNvZGUiLCJ2ZXJpZnlDb2RlIl0sIm1hcHBpbmdzIjoiaWtNQWVZOzJGQWZaLEtBQU1BLENBQUFBLE1BQU0sMEJBQUdDLE9BQU8sQ0FBQyxNQUFELENBQVAsQ0FBZ0JELE1BQW5CLENBQVosQ0FDQSxLQUFNRSxDQUFBQSxLQUFLLDBCQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFWLENBQVgsQ0FDQSxLQUFNRSxDQUFBQSxLQUFLLDBCQUFHRixPQUFPLENBQUMsT0FBRCxDQUFWLENBQVgsQyx3QkFFQUcsT0FBTyxDQUFDLGtCQUFELENBQXFCLElBQUssaURBQzdCQyxRQUFRLENBQUMsVUFBRCxDQUFhLElBQUssaURBRXRCQyxFQUFFLENBQUMsNEJBQUQsQ0FBK0IsU0FBWSx5QkFDekMsR0FBSUMsQ0FBQUEsSUFBSSwwQkFBRyxDQUNQQyxRQUFRLENBQUUsVUFESCxDQUVQQyxLQUFLLENBQUUsRUFGQSxDQUdQQyxRQUFRLENBQUUsc0JBSEgsQ0FJUEMsV0FBVyxDQUFFLGNBSk4sQ0FLUEMsUUFBUSxDQUFFLGNBTEgsQ0FBSCxDQUFSLENBT0EsR0FBSUMsQ0FBQUEsQ0FBQywwQkFBSSxLQUFNVixDQUFBQSxLQUFLLENBQUNXLElBQU4sQ0FBVyxzQ0FBWCxDQUFtRFAsSUFBbkQsQ0FBVixDQUFMLENBUnlDLHdCQVN6Q1AsTUFBTSxDQUFDYSxDQUFDLENBQUNFLElBQUYsQ0FBT0MsTUFBUixDQUFOLENBQXNCQyxFQUF0QixDQUF5QkMsRUFBekIsQ0FBNEJDLE1BQTVCLENBQW1DLENBQW5DLEVBQ0gs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XCIpLmV4cGVjdDtcclxuY29uc3QgbW9jaGEgPSByZXF1aXJlKFwibW9jaGFcIik7XHJcbmNvbnN0IGF4aW9zID0gcmVxdWlyZShcImF4aW9zXCIpO1xyXG5cclxuY29udGV4dCgnTG9naW4gJiBSZWdpc3RlcicsICgpID0+e1xyXG4gICAgZGVzY3JpYmUoJ1JlZ2lzdGVyJywgKCkgPT57XHJcbiAgICAgICAgXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZWdpc3RlciBhIG5ldyB1c2VyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtcclxuICAgICAgICAgICAgICAgIGN1c3ROYW1lOiBcIlVuaXRUZXN0XCIsXHJcbiAgICAgICAgICAgICAgICB0YXhJRDogMTUsXHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJ1bml0dGVzdDEyM0B1bml0LmNvbVwiLFxyXG4gICAgICAgICAgICAgICAgY3VzdEFkZHJlc3M6IFwiVGVzdCBBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogXCJ0ZXN0dGVzdEFiKytcIlxyXG4gICAgICAgICAgICB9OyBcclxuICAgICAgICAgICAgbGV0IHIgPSAgYXdhaXQgYXhpb3MucG9zdChcImh0dHBzOi8vZ2F0ZS5jMmEuc3RvcmUvdXNlci9yZWdpc3RlclwiLCBpbmZvKTtcclxuICAgICAgICAgICAgZXhwZWN0KHIuZGF0YS5yZXN1bHQpLnRvLmJlLmVxdWFscygxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBub3QgcmVnaXN0ZXIgYSB1c2VyIGJlY2F1c2UgZS1tYWlsIGFscmVhZHkgZXhpc3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgY3VzdE5hbWU6IFwiVW5pdFRlc3RcIixcclxuICAgICAgICAgICAgICAgIHRheElEOiAxNSxcclxuICAgICAgICAgICAgICAgIGN1c3RNYWlsOiBcInVuaXR0ZXN0dW5pdEB1bml0LmNvbVwiLFxyXG4gICAgICAgICAgICAgICAgY3VzdEFkZHJlc3M6IFwiVGVzdCBBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogXCJ0ZXN0dGVzdEFiKytcIlxyXG4gICAgICAgICAgICB9OyBcclxuICAgICAgICAgICAgbGV0IHIgPSAgYXdhaXQgYXhpb3MucG9zdChcImh0dHBzOi8vZ2F0ZS5jMmEuc3RvcmUvdXNlci9yZWdpc3RlclwiLCBpbmZvKTtcclxuICAgICAgICAgICAgZXhwZWN0KHIuZGF0YS5yZXN1bHQpLnRvLmJlLmVxdWFscyg0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCB2ZXJpZnkgdGhlIHVzZXIgd2l0aCB0aGUgY29ycmVjdCB2ZXJpZmljYXRpb24gY29kZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJ1bml0dGVzdHVuaXRAdW5pdC5jb21cIixcclxuICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbkNvZGU6IFwiMGNmNjA3ZGE2ODYwNzI2YWRmMTRmYjUxNTJiNWQzOGZcIlxyXG4gICAgICAgICAgICB9OyBcclxuICAgICAgICAgICAgbGV0IHIgPSAgYXdhaXQgYXhpb3MucG9zdChcImh0dHBzOi8vZ2F0ZS5jMmEuc3RvcmUvdXNlci92ZXJpZmljYXRpb25cIiwgaW5mbyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChyLmRhdGEucmVzdWx0KS50by5iZS5lcXVhbHMoNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgbm90IHZlcmlmeSBiZWNhdXNlIHZlcmlmaWNhdGlvbiBjb2RlIGlzIGV4cGlyZWQgb3Igd3JvbmcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgY3VzdE1haWw6IFwidW5pdHRlc3R1bml0QHVuaXQuY29tXCIsXHJcbiAgICAgICAgICAgICAgICB2ZXJpZmljYXRpb25Db2RlOiBcIjEyMzEyMzEyM1wiXHJcbiAgICAgICAgICAgIH07IFxyXG4gICAgICAgICAgICBsZXQgciA9ICBhd2FpdCBheGlvcy5wb3N0KFwiaHR0cHM6Ly9nYXRlLmMyYS5zdG9yZS91c2VyL3ZlcmlmaWNhdGlvblwiLCBpbmZvKTtcclxuICAgICAgICAgICAgZXhwZWN0KHIuZGF0YS5yZXN1bHQpLnRvLmJlLmVxdWFscyg3KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBub3QgdmVyaWZ5IGJlY2F1c2UgdXNlciBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJ0ZXN0QHRlc3QuY29tc3NzXCIsXHJcbiAgICAgICAgICAgICAgICB2ZXJpZmljYXRpb25Db2RlOiBcIjEyMzEyMzEyM1wiXHJcbiAgICAgICAgICAgIH07IFxyXG4gICAgICAgICAgICBsZXQgciA9ICBhd2FpdCBheGlvcy5wb3N0KFwiaHR0cHM6Ly9nYXRlLmMyYS5zdG9yZS91c2VyL3ZlcmlmaWNhdGlvblwiLCBpbmZvKTtcclxuICAgICAgICAgICAgZXhwZWN0KHIuZGF0YS5yZXN1bHQpLnRvLmJlLmVxdWFscyg4KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBkZXNjcmliZSgnTG9naW4nLCAoKSA9PntcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBsb2dpbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJtdXJhdGJpbGdlaGFuZXJ0YW5AZ21haWwuY29tXCIsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogXCIxMjMxMjNBYitcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCByID0gIGF3YWl0IGF4aW9zLnBvc3QoXCJodHRwczovL2dhdGUuYzJhLnN0b3JlL3VzZXIvYXV0aFwiLCBpbmZvKTtcclxuICAgICAgICAgICAgZXhwZWN0KHIuZGF0YS5yZXN1bHQpLnRvLmJlLmVxdWFscygxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBub3QgbG9naW4gYmVjYXVzZSBlbWFpbCBvciBwYXNzd29yZCBpcyB3cm9uZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJtYmlsZ2VoYW5Ac2FiYW5jaXVuaXYuZWR1XCIsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogXCIxdGVzdFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHIgPSAgYXdhaXQgYXhpb3MucG9zdChcImh0dHBzOi8vZ2F0ZS5jMmEuc3RvcmUvdXNlci9hdXRoXCIsIGluZm8pO1xyXG4gICAgICAgICAgICBleHBlY3Qoci5kYXRhLnJlc3VsdCkudG8uYmUuZXF1YWxzKDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIG5vdCBsb2dpbiBiZWNhdXNlIHVzZXIgaXMgbm90IHZlcmlmaWVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtcclxuICAgICAgICAgICAgICAgIGN1c3RNYWlsOiBcInVuaXR0ZXN0dHVuaXRAdW5pdC5jb21cIixcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBcInRlc3R0ZXN0QWIrK1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHIgPSAgYXdhaXQgYXhpb3MucG9zdChcImh0dHBzOi8vZ2F0ZS5jMmEuc3RvcmUvdXNlci9hdXRoXCIsIGluZm8pO1xyXG4gICAgICAgICAgICBleHBlY3Qoci5kYXRhLnJlc3VsdCkudG8uYmUuZXF1YWxzKDIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdGb3Jnb3QgUGFzc3dvcmQnLCAoKSA9PntcclxuICAgICAgICBpdCgnc2hvdWxkIHNlbmQgZm9yZ290IHBhc3N3b3JkIGUtbWFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJtdXJhdGJpbGdlaGFuZXJ0YW5AZ21haWwuY29tXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgciA9ICBhd2FpdCBheGlvcy5wb3N0KFwiaHR0cHM6Ly9nYXRlLmMyYS5zdG9yZS91c2VyL2ZvcmdvdFBhc3N3b3JkXCIsIGluZm8pO1xyXG4gICAgICAgICAgICBleHBlY3Qoci5kYXRhLnJlc3VsdCkudG8uYmUuZXF1YWxzKDEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIG5vdCBzZW5kIGFueXRoaW5nIGJlY2F1c2UgdXNlciBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0TWFpbDogXCJ0ZXN0ZG9lc25vdGV4aXN0QHRlc3QuY29tXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgciA9ICBhd2FpdCBheGlvcy5wb3N0KFwiaHR0cHM6Ly9nYXRlLmMyYS5zdG9yZS91c2VyL2ZvcmdvdFBhc3N3b3JkXCIsIGluZm8pO1xyXG4gICAgICAgICAgICBleHBlY3Qoci5kYXRhLnJlc3VsdCkudG8uYmUuZXF1YWxzKDIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGl0KCdzaG91bGQgdmVyaWZ5IGZvcmdvdCBwYXNzd29yZCBjb2RlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtcclxuICAgICAgICAgICAgICAgIGN1c3RNYWlsOiBcIm11cmF0YmlsZ2VoYW5lcnRhbkBnbWFpbC5jb21cIixcclxuICAgICAgICAgICAgICAgIHZlcmlmeUNvZGU6IFwiNjlkODIzM2M1ZDFiODFlZDI0ZWY3ZDRjOTQ1YzNlMTMxYzE3NjA4MWY5MDY3MjYwNmYzMDVkZTFjODk4MTQ1YTc5NTEyMzM1NTMwYzNhMjhmMzQ5OTE0OTZmYmZiYTY2ZTg4NjlmMThhYTNlZWI4OWY4MzA2MjEyNjc1MWZjMTBcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCByID0gIGF3YWl0IGF4aW9zLnBvc3QoXCJodHRwczovL2dhdGUuYzJhLnN0b3JlL3VzZXIvZm9yZ290cGFzcy12ZXJpZnlcIiwgaW5mbyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChyLmRhdGEucmVzdWx0KS50by5iZS5lcXVhbHMoMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG59KTsiXX0=